<meta charset="utf-8">

<script>
/* function getsearch(cityid, cateid){
	$.ajax({
		type:'GET',
		url:'/searchimpl',
		data:{
			'cityid':cityid,
			'cateid':cateid
		},
		success:function(data){
			
		}
	});
} */

/* $(document).ready(function(){

	$('#search_btn').click(function(){
	  	 $('#search_form').attr({
	   	      method:'get',
	   	      action:'/searchimpl'         
	   	   });
	   	   $('#search_form').submit();
	   });

});  */


function addlike(cust_id, hotel_id){
	
	/* $('#heartbtn').click(function() {
	    $('#heartbtn').addClass('fa fa-heart');
	    $('#heartbtn').removeClass('fa fa-heart-o');
	    return false;
	});
	 */
	$.ajax({
		url:'[[@{/addlike}]]',
		data:{
			'custid':cust_id,
			'hotelid':hotel_id,		
		},
		success:function(data){
			
			/* if(id == null){
				$(id).attr('class','fa fa-heart-o');
                $("#likecnt").empty();
                $("#likecnt").append(jdata.likecnt);
            }
            else if (id != null){
                $("#btn_like").attr('class','fa fa-heart-o');
                $("#likecnt").empty();
                $("#likecnt").append(jdata.likecnt);
            } */
			
			var id = '#heartbtn'+data;
		    $(id).attr('class','fa fa-heart');
			alert("likelist에 담겼습니다.");
		}
		
		/* useEffect(() => {
		    if(wishlistList.wishlistItems.filter(InwishlistItem => InwishlistItem.id === item.id)[0]) {
		      setColor("#ff0000");
		    }
		  }, []); */
	});
	
};

$(document).ready(function(){
	var custid = $('#custid').text();
	if(custid != ''){
		$.ajax({
			url:'/likehearts',
			data:{custid:custid},
			success:function(result){
				$.each(result,function(i,hodelid){
					var id = '#heartbtn'+hodelid;
					$(id).attr('class','fa fa-heart');
				});
			}
		});
	}
});

</script>

 <section class="hero-wrap hero-wrap-2 js-fullheight" style="background-image: url('images/hotel/jeju.jpg');">
  <div class="container">
    <div class="row no-gutters slider-text js-fullheight align-items-end justify-content-center">
      <div class="col-md-9 ftco-animate pb-5 text-center">
       <p class="breadcrumbs"><span class="mr-2"><a href="/main">Home <i class="fa fa-chevron-right"></i></a></span> <span><a href="/hotel">Hotel <i class="fa fa-chevron-right"></i></a></span></p>
       <h1 class="mb-0 bread">Hotel</h1>
     </div>
   </div>
 </div>
</section>

<section id="search_s" class="ftco-section ftco-no-pb">
 <div class="container">
  <div class="row">
   <div class="col-md-12">
    <div class="search-wrap-1 ftco-animate">
     <form action="/searchimpl" class="search-property-1" id="search_form">
      <div class="row no-gutters">
       <div class="col-lg d-flex">
        <div class="form-group p-4 border-0">
         <label for="#">Destination</label>
         <div class="form-field">
		    <div class="select-wrap">
		      <div class="icon"><span class="fa fa-chevron-down"></span></div>
		      <select name="cityid" id="cityid" class="form-control">
		        <option value="cityid">CITY</option>
		        <option th:each="ci:${city}" th:text=${ci.name} th:value="${ci.cityid}" th:id="${ci.cityid}">city</option>
		        <!-- <option value="1">서울</option>
		        <option value="2">경기</option>
		        <option value="3">인천</option>
		        <option value="4">대전/충청</option>
		        <option value="5">강원</option>
		        <option value="6">광주/전라</option>
		        <option value="7">대구/경상</option>
		        <option value="8">부산</option>
		        <option value="9">제주</option> -->
		      </select>
		    </div>
		  </div>
       </div>
     </div>
     <div class="col-lg d-flex">
      <div class="form-group p-4">
       <label for="#">Check-in date</label>
       <div class="form-field">
         <div class="icon"><span class="fa fa-calendar"></span></div>
         <input type="text" class="form-control checkin_date" placeholder="Check In Date">
       </div>
     </div>
   </div>
   <div class="col-lg d-flex">
    <div class="form-group p-4">
     <label for="#">Check-out date</label>
     <div class="form-field">
       <div class="icon"><span class="fa fa-calendar"></span></div>
       <input type="text" class="form-control checkout_date" placeholder="Check Out Date">
     </div>
   </div>
 </div>
 <div class="col-lg d-flex">
  <div class="form-group p-4">
   <label for="#">CATEGORY</label>
   <div class="form-field">
     <div class="select-wrap">
      <div class="icon"><span class="fa fa-chevron-down"></span></div>
      <select name="cateid" id="cateid" class="form-control">
        <option value="cateid">CATEGORY</option>
        <option th:each="ca:${cate}" th:text=${ca.catename} th:value="${ca.cateid}" id="${ca.cateid}"></option>
      </select>
    </div>
  </div>
</div>
</div>
<div class="col-lg d-flex">
  <div class="form-group d-flex w-100 border-0">
   <div class="form-field w-100 align-items-center d-flex">
    <input id="search_btn" type="submit" value="Search" class="align-self-stretch form-control btn btn-primary">
     <div id="custid" th:if="${session.logincust != null}" style="display:none;" th:text="${session.logincust.custid}">
  </div>
  </div>
</div>
</div>
</form>
</div>
</div>
</div>
</div>
</section>

<section class="ftco-section">
 <div class="container">
  <div class="row">
  
   <div class="col-md-4 ftco-animate" th:each="li:${list}">
    <div class="project-wrap hotel">
     <a th:href="@{/room(hotelid=${li.hotelid})}" class="img" th:style="'background-image:url('+ @{'images/hotel/'+${li.hotelimg1}} +');'">
      <span class="price" th:text="${li.name}"></span>
    </a>
    <div class="text p-4">
      <p class="star mb-2">
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
      </p>
		
      <!-- <span class="days">8 Days Tour</span> -->
      
	  <div class="like" th:if="${session.logincust != null}">
          <a th:onclick="addlike([[${session.logincust.custid}]],[[${li.hotelid}]]);" data-toggle="tooltip" data-placement="left" title="Like" id="like">
          <i class="fa fa-heart-o" th:id="|heartbtn${li.hotelid}|" style="color:red" alt=""></i>
          </a>
      </div>
	  
      <h3><a th:href="@{/room(hotelid=${li.hotelid})}" th:text="${li.hotelname}"></a></h3>
      <p class="location"><span class="fa fa-map-marker" th:text="' '+${li.detail}"></span></p>
      <ul>
       <li><span class="flaticon-shower"></span>2</li>
       <li><span class="flaticon-king-size"></span>3</li>
       <li><span class="fa fa-check-square-o"><li th:text="${li.feature}"></li></span></li>
       
     </ul>
   </div>
 </div>
</div>


</div>
<div class="row mt-5">
  <div class="col text-center">
    <div class="block-27">
      <ul>
        <li><a href="#">&lt;</a></li>
        <li class="active"><span>1</span></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li><a href="#">&gt;</a></li>
      </ul>
    </div>
  </div>
</div>
</div>
</section>

